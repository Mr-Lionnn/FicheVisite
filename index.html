<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fiche de Visite ‚Äì Agences & Franchises</title>
  <meta name="description" content="Formulaire de visite ‚Äì Agences & Franchises">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Optional: make invalid fields visibly red */
    input:invalid, textarea:invalid { border-color:#dc2626 !important; box-shadow:0 0 0 1px rgba(220,38,38,.15); }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">
  <main class="max-w-3xl mx-auto p-6">
    <header class="mb-6">
      <h1 class="text-2xl font-bold">üìã Fiche de Visite ‚Äì Agences & Franchises</h1>
      <p class="text-sm text-gray-600">Tous les champs sont <strong>obligatoires</strong>. Les r√©ponses sont enregistr√©es par Netlify Forms.</p>
    </header>

    <!-- Error summary -->
    <div id="error-summary" class="hidden mb-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-lg">
      Veuillez remplir les champs mis en √©vidence avant de soumettre le formulaire.
    </div>

    <form id="fiche-form"
          name="fiche-visite"
          method="POST"
          action="/success.html"
          data-netlify="true"
          netlify-honeypot="bot-field"
          novalidate
          class="space-y-8 bg-white p-6 rounded-2xl shadow">

      <!-- Required for Netlify Forms -->
      <input type="hidden" name="form-name" value="fiche-visite" />
      <p class="hidden"><label>Ne pas remplir: <input name="bot-field" /></label></p>

      <!-- Informations g√©n√©rales -->
      <section>
        <h2 class="text-lg font-semibold mb-4">Informations g√©n√©rales</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <label class="block"><span class="text-sm">Date de visite</span>
            <input type="date" name="date_visite" class="mt-1 w-full rounded-lg border border-gray-300 p-2" required />
          </label>
          <label class="block"><span class="text-sm">R√©gion / Ville</span>
            <input type="text" name="region_ville" class="mt-1 w-full rounded-lg border border-gray-300 p-2" required />
          </label>
          <fieldset class="md:col-span-2">
            <span class="text-sm">Type de point de service</span>
            <div class="mt-2 flex gap-6">
              <label class="inline-flex items-center gap-2"><input type="radio" name="type_point_service" value="Agence" required /><span>Agence</span></label>
              <label class="inline-flex items-center gap-2"><input type="radio" name="type_point_service" value="Franchise" required /><span>Franchise</span></label>
            </div>
          </fieldset>
          <label class="block"><span class="text-sm">Nom du point de service</span>
            <input type="text" name="nom_point_service" class="mt-1 w-full rounded-lg border border-gray-300 p-2" required />
          </label>
          <label class="block"><span class="text-sm">Responsable du point de service</span>
            <input type="text" name="responsable" class="mt-1 w-full rounded-lg border border-gray-300 p-2" required />
          </label>
          <label class="block md:col-span-2"><span class="text-sm">Participants (si applicable)</span>
            <textarea name="participants" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
        </div>
      </section>

      <!-- 1. Infrastructure et √©quipements -->
      <section>
        <h2 class="text-lg font-semibold mb-2">1. Infrastructure et √©quipements</h2>
        <div class="space-y-4">
          <label class="block"><span class="text-sm">√âtat g√©n√©ral des locaux</span>
            <textarea name="infra_etat_locaux" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
          <label class="block"><span class="text-sm">Visibilit√© ext√©rieure</span>
            <textarea name="infra_visibilite" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
          <label class="block"><span class="text-sm">Disponibilit√©/√©tat des √©quipements</span>
            <textarea name="infra_equipements" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="3" required></textarea>
          </label>
          <label class="block"><span class="text-sm">Accessibilit√© pour les clients</span>
            <textarea name="infra_accessibilite" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
        </div>
      </section>

      <!-- 2. Op√©rations commerciales -->
      <section>
        <h2 class="text-lg font-semibold mb-2">2. Op√©rations commerciales</h2>
        <div class="space-y-4">
          <label class="block"><span class="text-sm">Respect du processus de vente</span>
            <textarea name="ops_processus_vente" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
          <label class="block"><span class="text-sm">R√©alisation des objectifs commerciaux</span>
            <textarea name="ops_objectifs" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
          <label class="block"><span class="text-sm">Gestion du stock</span>
            <textarea name="ops_stock" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
          <label class="block"><span class="text-sm">Outils digitaux utilis√©s</span>
            <textarea name="ops_outils_digitaux" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
        </div>
      </section>

      <!-- 3. Service client -->
      <section>
        <h2 class="text-lg font-semibold mb-2">3. Service client et exp√©rience client</h2>
        <div class="space-y-4">
          <label class="block"><span class="text-sm">Accueil et d√©lai de prise en charge</span>
            <textarea name="sc_accueil_delai" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
          <label class="block"><span class="text-sm">Capacit√© de r√©solution des r√©clamations</span>
            <textarea name="sc_resolution_reclamations" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
          <label class="block"><span class="text-sm">Communication des offres</span>
            <textarea name="sc_communication_offres" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
          <label class="block"><span class="text-sm">Retour d‚Äôexp√©rience clients</span>
            <textarea name="sc_retour_experience" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="3" required></textarea>
          </label>
        </div>
      </section>

      <!-- 4. Ressources humaines -->
      <section>
        <h2 class="text-lg font-semibold mb-2">4. Ressources humaines</h2>
        <div class="space-y-4">
          <label class="block"><span class="text-sm">Effectif pr√©sent vs attendu</span>
            <textarea name="rh_effectif" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
          <label class="block"><span class="text-sm">Implication et motivation</span>
            <textarea name="rh_implication_motivation" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
          <label class="block"><span class="text-sm">Ma√Ætrise des proc√©dures et outils digitaux</span>
            <textarea name="rh_maitrise_outils" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
          <label class="block"><span class="text-sm">Besoins exprim√©s</span>
            <textarea name="rh_besoins" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
        </div>
      </section>

      <!-- 5‚Äì8 -->
      <section>
        <h2 class="text-lg font-semibold mb-2">5. Conformit√© & s√©curit√©</h2>
        <div class="space-y-4">
          <label class="block"><span class="text-sm">Respect des proc√©dures</span>
            <textarea name="conf_procedures" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
          <label class="block"><span class="text-sm">S√©curit√© des locaux</span>
            <textarea name="conf_securite" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
          <label class="block"><span class="text-sm">Archivage et tra√ßabilit√©</span>
            <textarea name="conf_archivage_tracabilite" class="mt-1 w-full rounded-lg border border-gray-300 p-2" rows="2" required></textarea>
          </label>
        </div>
      </section>

      <section>
        <h2 class="text-lg font-semibold mb-2">6. Points forts observ√©s</h2>
        <textarea name="points_forts" class="w-full rounded-lg border border-gray-300 p-2" rows="3" required></textarea>
      </section>

      <section>
        <h2 class="text-lg font-semibold mb-2">7. Points d‚Äôam√©lioration / anomalies constat√©es</h2>
        <textarea name="points_amelioration" class="w-full rounded-lg border border-gray-300 p-2" rows="3" required></textarea>
      </section>

      <section>
        <h2 class="text-lg font-semibold mb-2">8. Actions imm√©diates engag√©es</h2>
        <textarea name="actions_immediates" class="w-full rounded-lg border border-gray-300 p-2" rows="3" required></textarea>
      </section>

      <section>
        <label class="inline-flex items-start gap-2 text-sm">
          <input type="checkbox" name="consentement" required />
          <span>Je confirme l'exactitude des informations fournies.</span>
        </label>
      </section>

      <div class="pt-2">
        <button type="submit" class="w-full md:w-auto px-5 py-2.5 rounded-xl bg-indigo-600 text-white font-medium hover:bg-indigo-700">Envoyer la fiche</button>
      </div>
    </form>

    <footer class="mt-8 text-xs text-gray-500">
      <p>H√©bergement : Netlify ‚Äî consultez les r√©ponses dans **Forms ‚Üí fiche-visite**.</p>
    </footer>
  </main>

  <script>
    const form = document.getElementById('fiche-form');
    const errorSummary = document.getElementById('error-summary');
    form.addEventListener('submit', function(e) {
      if (!form.checkValidity()) {
        e.preventDefault();
        errorSummary.classList.remove('hidden');
        const firstInvalid = form.querySelector(':invalid');
        if (firstInvalid) firstInvalid.focus();
      }
    });
  </script>
</body>
</html>
